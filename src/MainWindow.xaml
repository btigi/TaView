<Window x:Class="Taview.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TAView" 
        Height="600" Width="1000"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Menu -->
        <Menu Grid.Row="0">
            <MenuItem Header="_File">
                <MenuItem Header="_Open" Click="OpenMenuItem_Click"/>
                <Separator/>
                <MenuItem Header="E_xit" Click="ExitMenuItem_Click"/>
            </MenuItem>
            <MenuItem Header="_Help">
                <MenuItem Header="_About" Click="AboutMenuItem_Click"/>
            </MenuItem>
        </Menu>

        <!-- Main Content Area -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="300"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- TreeView for file structure -->
            <TreeView x:Name="FileTreeView" 
                     Grid.Column="0"
                     SelectedItemChanged="FileTreeView_SelectedItemChanged"
                     BorderThickness="0">
                <TreeView.Resources>
                    <Style TargetType="TreeViewItem">
                        <Setter Property="IsExpanded" Value="True"/>
                    </Style>
                </TreeView.Resources>
            </TreeView>

            <!-- Splitter -->
            <GridSplitter Grid.Column="1" 
                         HorizontalAlignment="Stretch" 
                         Background="LightGray"/>

            <!-- Content Display Area -->
            <Grid Grid.Column="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- File info header -->
                <Border Grid.Row="0" 
                       Background="LightGray" 
                       Padding="5">
                    <TextBlock x:Name="FileInfoTextBlock" 
                              Text="No file selected" 
                              FontWeight="Bold"/>
                </Border>

                <!-- Content display -->
                <Grid Grid.Row="1">
                    <!-- Text content -->
                    <ScrollViewer x:Name="TextScrollViewer"
                                 VerticalScrollBarVisibility="Auto" 
                                 HorizontalScrollBarVisibility="Auto"
                                 Visibility="Visible">
                        <TextBox x:Name="ContentTextBox" 
                                IsReadOnly="True" 
                                TextWrapping="Wrap"
                                FontFamily="Consolas"
                                Background="White"
                                BorderThickness="0"/>
                    </ScrollViewer>
                    
                    <!-- Audio content -->
                    <Grid x:Name="AudioContentGrid" Visibility="Collapsed">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Audio player area -->
                        <Border Grid.Row="0" 
                               Background="White" 
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Padding="20">
                            <StackPanel>
                                <TextBlock Text="Audio Player" 
                                          FontSize="18" 
                                          FontWeight="Bold"
                                          HorizontalAlignment="Center"
                                          Margin="0,0,0,20"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Audio controls -->
                        <Border Grid.Row="1" 
                               Background="LightGray" 
                               Padding="10">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!-- Control buttons -->
                                <StackPanel Grid.Row="0" 
                                           Orientation="Horizontal" 
                                           HorizontalAlignment="Center"
                                           Margin="0,0,0,10">
                                    <Button x:Name="PlayButton"
                                           Content="▶ Play"
                                           Width="80"
                                           Height="30"
                                           Margin="5,0"
                                           Click="PlayButton_Click"/>
                                    
                                    <Button x:Name="PauseButton"
                                           Content="⏸ Pause"
                                           Width="80"
                                           Height="30"
                                           Margin="5,0"
                                           Click="PauseButton_Click"
                                           IsEnabled="False"/>
                                    
                                    <Button x:Name="StopButton"
                                           Content="⏹ Stop"
                                           Width="80"
                                           Height="30"
                                           Margin="5,0"
                                           Click="StopButton_Click"
                                           IsEnabled="False"/>
                                </StackPanel>
                                
                                <!-- Time display and position -->
                                <Grid Grid.Row="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <TextBlock x:Name="CurrentTimeTextBlock"
                                              Grid.Column="0"
                                              Text="00:00"
                                              VerticalAlignment="Center"
                                              Margin="0,0,10,0"
                                              MinWidth="50"/>
                                    
                                    <Slider x:Name="AudioPositionSlider"
                                           Grid.Column="1"
                                           Minimum="0"
                                           Maximum="100"
                                           Value="0"
                                           VerticalAlignment="Center"
                                           Margin="0,0,10,0"
                                           ValueChanged="AudioPositionSlider_ValueChanged"
                                           PreviewMouseLeftButtonDown="AudioPositionSlider_PreviewMouseLeftButtonDown"
                                           PreviewMouseLeftButtonUp="AudioPositionSlider_PreviewMouseLeftButtonUp"/>
                                    
                                    <TextBlock x:Name="TotalTimeTextBlock"
                                              Grid.Column="2"
                                              Text="00:00"
                                              VerticalAlignment="Center"
                                              MinWidth="50"/>
                                </Grid>
                            </Grid>
                        </Border>
                    </Grid>
                    
                    <!-- Image content -->
                    <Grid x:Name="ImageContentGrid" Visibility="Collapsed">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <ScrollViewer x:Name="ImageScrollViewer"
                                     Grid.Row="0"
                                     VerticalScrollBarVisibility="Auto" 
                                     HorizontalScrollBarVisibility="Auto">
                            <Image x:Name="ContentImage" 
                                  Stretch="None"
                                  RenderTransformOrigin="0,0">
                                <Image.RenderTransform>
                                    <ScaleTransform x:Name="ImageScaleTransform" ScaleX="1" ScaleY="1"/>
                                </Image.RenderTransform>
                            </Image>
                        </ScrollViewer>
                        
                        <!-- Image controls (zoom and navigation) -->
                        <Border Grid.Row="1" 
                               Background="LightGray" 
                               Padding="5">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <!-- Zoom label -->
                                <TextBlock Grid.Column="0" 
                                          Text="Zoom:" 
                                          VerticalAlignment="Center"
                                          Margin="0,0,10,0"/>
                                
                                <!-- Zoom slider -->
                                <Slider x:Name="ZoomSlider"
                                       Grid.Column="1"
                                       Minimum="0.1"
                                       Maximum="5.0"
                                       Value="1.0"
                                       TickFrequency="0.1"
                                       IsSnapToTickEnabled="False"
                                       VerticalAlignment="Center"
                                       Margin="0,0,10,0"
                                       ValueChanged="ZoomSlider_ValueChanged"/>
                                
                                <!-- Zoom value display -->
                                <TextBlock x:Name="ZoomValueTextBlock"
                                          Grid.Column="2"
                                          Text="100%"
                                          VerticalAlignment="Center"
                                          MinWidth="50"
                                          Margin="0,0,20,0"/>
                                
                                <!-- Previous frame button (for GAF) -->
                                <Button x:Name="PreviousFrameButton"
                                       Grid.Column="3"
                                       Content="&lt;"
                                       Width="30"
                                       Height="25"
                                       Margin="0,0,5,0"
                                       Click="PreviousFrameButton_Click"
                                       Visibility="Collapsed"/>
                                
                                <!-- Next frame button (for GAF) -->
                                <Button x:Name="NextFrameButton"
                                       Grid.Column="4"
                                       Content="&gt;"
                                       Width="30"
                                       Height="25"
                                       Click="NextFrameButton_Click"
                                       Visibility="Collapsed"/>
                            </Grid>
                        </Border>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</Window>
